# –ü–æ—à–∞–≥–æ–≤—ã–π –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤

## üìä –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É

| Status | –ò—Ç–µ—Ä–∞—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ–∫—Ä—ã—Ç–∏–µ | –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è |
|--------|----------|----------|----------|-----------------|
| ‚úÖ | 1 | –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | - | 2025-12-11 |
| ‚úÖ | 2 | Unit —Ç–µ—Å—Ç—ã: Config –º–æ–¥—É–ª–∏ | 92% | 2025-12-11 |
| ‚úÖ | 3 | Unit —Ç–µ—Å—Ç—ã: Preprocessing | 97%/88% | 2025-01-26 |
| ‚úÖ | 4 | Unit —Ç–µ—Å—Ç—ã: Region Detection | 93% | 2025-12-11 |
| ‚úÖ | 5 | Unit —Ç–µ—Å—Ç—ã: OCR Engine | 62%/95% | 2025-01-26 |
| ‚è∏Ô∏è | 6 | Unit —Ç–µ—Å—Ç—ã: Error Correction | - | - |
| ‚è∏Ô∏è | 7 | Unit —Ç–µ—Å—Ç—ã: Field Validation | - | - |
| ‚è∏Ô∏è | 8 | Unit —Ç–µ—Å—Ç—ã: Form Extraction | - | - |
| ‚è∏Ô∏è | 9 | Unit —Ç–µ—Å—Ç—ã: Table Processing | - | - |
| ‚è∏Ô∏è | 10 | Unit —Ç–µ—Å—Ç—ã: Batch Processing | - | - |
| ‚è∏Ô∏è | 11 | Integration —Ç–µ—Å—Ç—ã | - | - |
| ‚è∏Ô∏è | 12 | E2E —Ç–µ—Å—Ç—ã | - | - |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:**
- –°—Ç–∞—Ç—É—Å: –ò—Ç–µ—Ä–∞—Ü–∏—è 5 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- –í—ã–ø–æ–ª–Ω–µ–Ω–æ: 5/12
- –¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: 75%+ (unit tests: 80%+)
- –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-26

**–°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
- **[Testing Vision](testing_vision.md)** - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **[Technical Vision](vision.md)** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- **[Development Tasklist](tasklist.md)** - –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

---

## üß™ –ò—Ç–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
**–¶–µ–ª—å**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ [Testing Vision ¬ß 2-3](testing_vision.md#2-framework-and-tools)

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `tests/` —Å–æ–≥–ª–∞—Å–Ω–æ [¬ß 3.1](testing_vision.md#31-file-organization)
  ```
  tests/
  ‚îú‚îÄ‚îÄ conftest.py
  ‚îú‚îÄ‚îÄ pytest.ini
  ‚îú‚îÄ‚îÄ __init__.py
  ‚îú‚îÄ‚îÄ fixtures/
  ‚îú‚îÄ‚îÄ unit/
  ‚îú‚îÄ‚îÄ integration/
  ‚îî‚îÄ‚îÄ e2e/
  ```
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements-dev.txt`
- [x] –°–æ–∑–¥–∞—Ç—å `tests/pytest.ini` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π ([¬ß 2.3](testing_vision.md#23-pytest-configuration))
  - Test discovery patterns
  - Coverage requirements (--cov-fail-under=75)
  - Test markers (unit, integration, e2e, slow, requires_ocr)
- [x] –°–æ–∑–¥–∞—Ç—å `tests/conftest.py` —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ fixtures ([¬ß 5.1](testing_vision.md#51-global-fixtures-conftestpy))
  - `test_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - `test_image_034` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - `test_image_034_full` - –ø–æ–ª–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
  - `synthetic_skewed_image` - —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  - `mock_ocr_response` - –º–æ–∫ OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - `mock_ocr_engine` - –º–æ–∫ OCR –¥–≤–∏–∂–∫–∞
- [x] –°–æ–∑–¥–∞—Ç—å `tests/fixtures/image_fixtures.py` ([¬ß 5.2](testing_vision.md#52-image-fixtures))
  - `create_test_document_image()` - —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç
  - `create_rotated_image()` - –ø–æ–≤–æ—Ä–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [x] –°–æ–∑–¥–∞—Ç—å `tests/fixtures/ocr_fixtures.py` ([¬ß 5.3](testing_vision.md#53-ocr-result-fixtures))
  - `create_mock_ocr_result_by_region()` - –º–æ–∫ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [x] –°–æ–∑–¥–∞—Ç—å `tests/fixtures/config_fixtures.py`
  - –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å pytest –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: `pytest --collect-only`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `pytest --collect-only` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ fixtures –¥–æ—Å—Ç—É–ø–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ pytest.ini –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ì–æ—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: Unit —Ç–µ—Å—Ç—ã - Config –º–æ–¥—É–ª–∏
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –º–æ–¥—É–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ([Testing Vision ¬ß 4](testing_vision.md#4-component-specific-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/config/test_settings.py`
  - [x] Test settings loading from .env
  - [x] Test default values
  - [x] Test field validators (gaussian_blur_kernel, illumination_kernel, etc.)
  - [x] Test path conversion
  - [x] Test invalid values raise ValidationError
  - [x] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@pytest.mark.parametrize` –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/config/test_corrections.py` ([¬ß 4.4](testing_vision.md#44-error-correction-testing))
  - [x] Test `get_correction()` —Å exact match
  - [x] Test fuzzy corrections (case-insensitive)
  - [x] Test no correction for valid text
  - [x] Test `apply_corrections_to_text_list()`
  - [x] –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π —Å–ª–æ–≤–∞—Ä—è
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/config/test_validation_rules.py` ([¬ß 4.5](testing_vision.md#45-field-validation-testing))
  - [x] Test `ValidationRule.validate()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ø–æ–ª—è
  - [x] Test act_number pattern (XXX/YY)
  - [x] Test date format (DD.MM.YYYY)
  - [x] Test quantity validation
  - [x] Test measurement validation
  - [x] Test status allowed values
  - [x] Test `get_rule()` –∏ `get_all_rules()`
  - [x] Test `infer_field_type()`
  - [x] Test `validate_confidence()`
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/config/test_region_templates.py`
  - [x] Test `load_region_templates()` with valid file
  - [x] Test fallback to default templates
  - [x] Test template validation

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/config/ -v` (232 —Ç–µ—Å—Ç–∞)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ config –º–æ–¥—É–ª–µ–π: 92% (corrections: 100%, settings: 100%, validation_rules: 88%, region_templates: 80%)
- ‚úÖ –ù–µ—Ç warnings –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤ (–∫—Ä–æ–º–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ timeout –≤ pytest.ini)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Config –º–æ–¥—É–ª–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 92% (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ 90%+)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: Unit —Ç–µ—Å—Ç—ã - Image Preprocessing
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ preprocessing –º–æ–¥—É–ª–∏ ([Testing Vision ¬ß 4.1](testing_vision.md#41-image-preprocessing-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_preprocessor.py` ([¬ß 4.1.1](testing_vision.md#411-preprocessor-testing))
  - [x] Test `process()` with valid image (034_compr.jpg –∏ 034.jpg)
  - [x] Test deskew detection with synthetic skewed image ([¬ß 11.1](testing_vision.md#111-testing-perspective-correction))
  - [x] Test deskew angle calculation
  - [x] Test `_should_apply_rotation()` edge cases
  - [x] Test adaptive scaling for different resolutions ([¬ß 5.4](testing_vision.md#54-parametrize-for-multiple-cases))
    - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç: (1920√ó1080), (2560√ó1440), (3264√ó2448), (4000√ó3000)
  - [x] Test enhancement pipeline (_enhance)
  - [x] Test binarization modes (Otsu, adaptive)
  - [x] Test morphological enhancement for pale text
  - [x] Test illumination correction
  - [x] Test output path generation
  - [x] Test error handling for invalid images
  - [x] Test error handling for missing files
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_perspective_corrector.py` ([¬ß 4.1.2](testing_vision.md#412-perspective-corrector-testing))
  - [x] Test `correct()` with clear document boundaries
  - [x] Test contour detection
  - [x] Test corner ordering
  - [x] Test perspective transformation with known angles
  - [x] Test skip correction for images without clear boundaries
  - [x] Test corner distance validation
  - [x] Test area ratio validation
  - [x] Test target size limits

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_preprocessor.py tests/unit/test_perspective_corrector.py -v` (45 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ preprocessor.py: 97% (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ 80%+)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ perspective_corrector.py: 88% (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ 80%+)
- ‚úÖ –¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ (< 11s –¥–ª—è –≤—Å–µ—Ö 45 —Ç–µ—Å—Ç–æ–≤)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Preprocessing –º–æ–¥—É–ª–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 97%/88% (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ 80%+)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4: Unit —Ç–µ—Å—Ç—ã - Region Detection
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –¥–µ—Ç–µ–∫—Ü–∏—é –∑–æ–Ω ([Testing Vision ¬ß 4.2](testing_vision.md#42-region-detection-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_region_detector.py` ([¬ß 4.2.1](testing_vision.md#421-regiondetector-testing))
  - [x] Test `detect_zones()` with adaptive strategy
  - [x] Test adaptive line detection finds horizontal separators
  - [x] Test text-based projection strategy
  - [x] Test template-based fallback
  - [x] Test strategy cascade (auto mode)
  - [x] Test normalized coordinates (0.0-1.0)
  - [x] Test confidence score calculation
  - [x] Test region merging logic
  - [x] Test region validation (min/max ratios)
  - [x] Test error handling for empty images
  - [x] Test error handling for invalid images
  - [x] Mock template loading with `@patch`
- [x] –°–æ–∑–¥–∞—Ç—å `tests/fixtures/synthetic_documents.py` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - [x] –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `create_synthetic_document()`
  - [x] –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ª–∏–Ω–∏—è–º–∏, —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –±–ª–æ–∫–∞–º–∏, –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü
  - [x] –§—É–Ω–∫—Ü–∏—è `add_realistic_text()` —Å cv2.putText –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_region_detector.py -v` (56 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ region_detector.py: 93% (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ 80%+)
- ‚úÖ –í—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (adaptive, text_based, template)
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ (< 4s –¥–ª—è –≤—Å–µ—Ö 56 —Ç–µ—Å—Ç–æ–≤)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Region Detection –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 93% (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ 80%+)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 5: Unit —Ç–µ—Å—Ç—ã - OCR Engine (mocked)
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ OCR –ª–æ–≥–∏–∫—É —Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º PaddleOCR ([Testing Vision ¬ß 4.3.1](testing_vision.md#431-unit-tests-mocked-ocr))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_ocr_engine.py`
  - [x] Mock PaddleOCR initialization with `@patch('src.ocr_engine.OCREngineFactory')`
  - [x] Test `process()` with mocked OCR results
  - [x] Test confidence filtering ([¬ß 4.3.1 –ø—Ä–∏–º–µ—Ä](testing_vision.md#example-test-2))
  - [x] Test `_process_ocr_results()` with different formats
  - [x] Test confidence filtering logic
  - [x] Test `process_regions()` coordination
  - [x] Test region-based processing with mock regions
  - [x] Test low confidence detection and counting
  - [x] Test empty OCR results handling
  - [x] Test parallel processing decision logic (mocked)
  - [x] Test context manager (`__enter__`, `__exit__`)
  - [x] Test resource cleanup in `close()`
  - [x] Test error handling for corrupted images
- [x] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_ocr_engine_factory.py`
  - [x] Test `create_full_engine()`
  - [x] Test `create_detection_engine()`
  - [x] Test `create_recognition_engine()`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_ocr_engine.py tests/unit/test_ocr_engine_factory.py -v` (47 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ ocr_engine.py: 62% (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ OCR, –º–Ω–æ–≥–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Å–ª–æ–∂–Ω—ã—Ö parallel processing –ø—É—Ç—è—Ö)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ ocr_engine_factory.py: 95% (–ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ 75%+)
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –±—ã—Å—Ç—Ä—ã–µ (< 100ms –∫–∞–∂–¥—ã–π, PaddleOCR –º–æ–∫–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ PaddleOCR –≤ unit —Ç–µ—Å—Ç–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: OCR Engine –ª–æ–≥–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∞ unit —Ç–µ—Å—Ç–∞–º–∏ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ OCR). ocr_engine.py: 62%, ocr_engine_factory.py: 95%

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 6: Unit —Ç–µ—Å—Ç—ã - Error Correction
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –æ—à–∏–±–æ–∫ ([Testing Vision ¬ß 4.4](testing_vision.md#44-error-correction-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_error_corrector.py` ([¬ß 4.4.1](testing_vision.md#441-errorcorrector-testing))
  - [ ] Test `process()` applies corrections from dictionary ([¬ß 11.2 –ø—Ä–∏–º–µ—Ä](testing_vision.md#112-testing-error-correction-dictionary))
  - [ ] Test exact match corrections
  - [ ] Test fuzzy (case-insensitive) corrections
  - [ ] Test correction logging and metadata
  - [ ] Test multiple corrections in single text
  - [ ] Test no false corrections (correct text unchanged)
  - [ ] Test correction rate calculation
  - [ ] Test `_apply_corrections()` with mock data
  - [ ] Test `_create_output_structure()`
  - [ ] Test output path generation
  - [ ] Test loading OCR results from JSON
  - [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö correction patterns

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_error_corrector.py -v`
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ error_corrector.py: 90%+ (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
- ‚úÖ –í—Å–µ –∑–∞–ø–∏—Å–∏ —Å–ª–æ–≤–∞—Ä—è corrections –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Error Correction –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 90%+

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 7: Unit —Ç–µ—Å—Ç—ã - Field Validation
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π ([Testing Vision ¬ß 4.5](testing_vision.md#45-field-validation-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_field_validator.py` ([¬ß 4.5.1](testing_vision.md#451-fieldvalidator-testing))
  - [ ] Test `process()` validates all fields
  - [ ] Test act_number format validation ([¬ß 11.3 –ø—Ä–∏–º–µ—Ä](testing_vision.md#113-testing-validation-rules-with-parametrize))
    - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π: "001/2025" (valid), "abc/2025" (invalid), etc.
  - [ ] Test date format validation
    - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π: "15.10.2025" (valid), "15/10/2025" (invalid), etc.
  - [ ] Test quantity validation (positive integers)
  - [ ] Test measurement validation (decimals)
  - [ ] Test status validation (allowed values)
  - [ ] Test mandatory field detection
  - [ ] Test confidence-based suspicious flagging
  - [ ] Test validation error messages
  - [ ] Test `_validate_field()` for all field types
  - [ ] Test `_flag_suspicious_values()`
  - [ ] Test output structure with validation results

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_field_validator.py -v`
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ field_validator.py: 90%+ (validation rules)
- ‚úÖ –í—Å–µ validation rules –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Field Validation –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 90%+

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 8: Unit —Ç–µ—Å—Ç—ã - Form Extraction
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ([Testing Vision ¬ß 4.6](testing_vision.md#46-form-extraction-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_form_extractor.py` ([¬ß 4.6.1](testing_vision.md#461-formextractor-testing))
  - [ ] Test `extract()` with mock OCR data ([¬ß 11.4 –ø—Ä–∏–º–µ—Ä](testing_vision.md#114-testing-form-extraction-with-mock-ocr-data))
  - [ ] Test header field extraction (act_number, date, inspector)
  - [ ] Test sticker detection (priority source) ([¬ß 4.6.1 –ø—Ä–∏–º–µ—Ä](testing_vision.md#example-test-4))
  - [ ] Test `_extract_header()` with various layouts
  - [ ] Test `_detect_sticker()` logic
  - [ ] Test defect block parsing with `_extract_defects()`
  - [ ] Test defect block classification (geometry/holes/surface)
  - [ ] Test defect row grouping by Y-coordinate
  - [ ] Test `_extract_defects_from_table()` for table data
  - [ ] Test analysis section extraction
  - [ ] Test `_extract_analysis()` with deviation rows
  - [ ] Test final decision parsing
  - [ ] Test mandatory field validation
  - [ ] Test suspicious value flagging (low confidence)
  - [ ] Test `_validate_mandatory_fields()`
  - [ ] Test `_get_image_dimensions()` from OCR data
  - [ ] Test error handling for missing regions

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_form_extractor.py -v`
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ form_extractor.py: 85%+ (complex extraction)
- ‚úÖ –í—Å–µ extraction –ª–æ–≥–∏–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Form Extraction –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 85%+

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 9: Unit —Ç–µ—Å—Ç—ã - Table Processing
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–∞–±–ª–∏—Ü ([Testing Vision ¬ß 4.7](testing_vision.md#47-table-processing-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_table_detector.py`
  - [ ] Test `detect_table_structure()` with morphology strategy
  - [ ] Test horizontal line detection
  - [ ] Test vertical line detection
  - [ ] Test grid construction from lines
  - [ ] Test table validation (min rows/cols)
  - [ ] Test fallback to template strategy
  - [ ] Test error handling for no table found
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_table_processor.py` ([¬ß 4.7.1](testing_vision.md#471-tabledetector-and-tableprocessor-testing))
  - [ ] Test `extract_cells()` with detected grid
  - [ ] Test cell extraction with coordinates
  - [ ] Test column mapping from templates
  - [ ] Test parallel cell processing decision (mocked)
  - [ ] Test sequential cell processing
  - [ ] Test cell-level preprocessing
  - [ ] Test OCR integration (mocked)
  - [ ] Test error handling for invalid grid

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_table_*.py -v`
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ table_detector.py: 75%+
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ table_processor.py: 75%+

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Table Processing –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 75%+

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 10: Unit —Ç–µ—Å—Ç—ã - Batch Processing
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É ([Testing Vision ¬ß 4.8](testing_vision.md#48-batch-processing-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/unit/test_batch_processor.py` ([¬ß 4.8.1](testing_vision.md#481-batchprocessor-testing))
  - [ ] Test `process_directory()` with mock files
  - [ ] Test shared OCR engine pattern
  - [ ] Test file discovery (*.jpg, *.png)
  - [ ] Test error isolation (one file failure doesn't stop batch)
  - [ ] Test summary generation (BatchResult)
  - [ ] Test progress logging
  - [ ] Test graceful degradation on errors
  - [ ] Test FileResult creation for success/failure
  - [ ] Test mode parameter (pipeline, ocr, preprocess, correction)
  - [ ] Mock OCR engine and components for speed

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/unit/test_batch_processor.py -v`
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ batch_processor.py: 80%+
- ‚úÖ –¢–µ—Å—Ç—ã –±—ã—Å—Ç—Ä—ã–µ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Batch Processing –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 80%+

**üéØ Milestone: Unit Tests Complete**
- ‚úÖ –í—Å–µ unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: 80%+
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `pytest tests/unit/ -v --cov=src` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å–ø–µ—Ö

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 11: Integration —Ç–µ—Å—Ç—ã
**–¶–µ–ª—å**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º PaddleOCR ([Testing Vision ¬ß 4.3.2](testing_vision.md#432-integration-tests-real-ocr))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/integration/conftest.py` —Å fixtures
  - [ ] Shared OCR engine fixture (–¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
  - [ ] Test images loading fixtures
  - [ ] Output cleanup fixtures
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/integration/test_preprocessing_pipeline.py`
  - [ ] Test full preprocessing pipeline with real images
  - [ ] Test perspective correction ‚Üí deskew ‚Üí enhancement flow
  - [ ] Verify output file quality
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/integration/test_ocr_pipeline.py` ([¬ß 4.3.2 –ø—Ä–∏–º–µ—Ä](testing_vision.md#example-test-3))
  - [ ] Test OCR with actual test images from `images/test_images/`
  - [ ] Test with 034_compr.jpg
  - [ ] Test with 034.jpg (full resolution)
  - [ ] Measure accuracy and performance
  - [ ] Test memory management
  - [ ] Mark with `@pytest.mark.integration`, `@pytest.mark.requires_ocr`, `@pytest.mark.slow`
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/integration/test_region_detection_ocr.py`
  - [ ] Test region detection + OCR integration
  - [ ] Test all detection strategies with real images
  - [ ] Verify regional OCR results
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/integration/test_correction_validation_flow.py`
  - [ ] Test error correction ‚Üí field validation flow
  - [ ] Test with real OCR results
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/integration/test_extraction_flow.py`
  - [ ] Test OCR ‚Üí correction ‚Üí validation ‚Üí extraction flow
  - [ ] Verify extracted structured data
  - [ ] Test with actual test images
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/integration/test_parallel_processing.py`
  - [ ] Test parallel vs sequential processing
  - [ ] Test parallel region processing
  - [ ] Test parallel cell processing
  - [ ] Measure speedup
  - [ ] Verify results consistency

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/integration/ -v`
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π: 60%+
- ‚úÖ –¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞ < 5 –º–∏–Ω—É—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π PaddleOCR (CPU mode –¥–ª—è CI)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ 60%+

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 12: E2E —Ç–µ—Å—Ç—ã
**–¶–µ–ª—å**: End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º –ø–∞–π–ø–ª–∞–π–Ω–æ–º ([Testing Vision ¬ß 4](testing_vision.md#4-component-specific-testing))

**–ü–æ–¥–∑–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/e2e/conftest.py` —Å fixtures
  - [ ] Cleanup fixtures –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  - [ ] Settings fixtures –¥–ª—è E2E
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/e2e/test_full_pipeline.py`
  - [ ] Test full pipeline: preprocessing ‚Üí OCR ‚Üí correction ‚Üí validation ‚Üí extraction
  - [ ] Test with 034_compr.jpg end-to-end
  - [ ] Verify all output files created
  - [ ] Verify final structured data accuracy
  - [ ] Test with 034.jpg (full resolution)
  - [ ] Mark with `@pytest.mark.e2e`, `@pytest.mark.slow`
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/e2e/test_batch_processing.py` ([¬ß 4.8.1 –ø—Ä–∏–º–µ—Ä](testing_vision.md#example-test-5))
  - [ ] Test batch processing with multiple images
  - [ ] Test shared OCR engine performance
  - [ ] Test memory cleanup between files ([¬ß 11.5](testing_vision.md#115-testing-batch-processing-with-memory-cleanup))
  - [ ] Test summary generation
  - [ ] Test with `images/batch1/` directory
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/e2e/test_error_scenarios.py`
  - [ ] Test with corrupted image
  - [ ] Test with missing file
  - [ ] Test with invalid image format
  - [ ] Test with very low quality image
  - [ ] Test graceful error handling
  - [ ] Test error logging
- [ ] –°–æ–∑–¥–∞—Ç—å `tests/e2e/test_cli_interface.py`
  - [ ] Test main.py CLI with different modes
  - [ ] Test --file argument
  - [ ] Test --batch argument
  - [ ] Test --mode variations
  - [ ] Test --output argument
  - [ ] Test --help output

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `pytest tests/e2e/ -v`
- ‚úÖ 100% coverage of critical user scenarios
- ‚úÖ –¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞ < 10 –º–∏–Ω—É—Ç
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–∫—Ä—ã—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã –Ω–∞ 100%

**üéâ Milestone: All Tests Complete**
- ‚úÖ Unit tests: 80%+ coverage
- ‚úÖ Integration tests: 60%+ coverage
- ‚úÖ E2E tests: 100% scenarios covered
- ‚úÖ Overall code coverage: 75%+
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `pytest tests/ -v --cov=src --cov-report=html` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å–ø–µ—Ö

---

## üìà Coverage Goals –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

| Component | Target | Priority | Section Reference |
|-----------|--------|----------|-------------------|
| **error_corrector.py** | 90%+ | üî¥ High | [¬ß 4.4](testing_vision.md#44-error-correction-testing) |
| **field_validator.py** | 90%+ | üî¥ High | [¬ß 4.5](testing_vision.md#45-field-validation-testing) |
| **form_extractor.py** | 85%+ | üî¥ High | [¬ß 4.6](testing_vision.md#46-form-extraction-testing) |
| **region_detector.py** | 80%+ | üü° Medium | [¬ß 4.2](testing_vision.md#42-region-detection-testing) |
| **preprocessor.py** | 80%+ | üü° Medium | [¬ß 4.1](testing_vision.md#41-image-preprocessing-testing) |
| **ocr_engine.py** | 75%+ | üü° Medium | [¬ß 4.3](testing_vision.md#43-ocr-engine-testing) |
| **table_detector.py** | 75%+ | üü° Medium | [¬ß 4.7](testing_vision.md#47-table-processing-testing) |
| **table_processor.py** | 75%+ | üü° Medium | [¬ß 4.7](testing_vision.md#47-table-processing-testing) |
| **batch_processor.py** | 80%+ | üü° Medium | [¬ß 4.8](testing_vision.md#48-batch-processing-testing) |

---

## üõ†Ô∏è Useful Commands

### Development
```bash
# Fast unit tests only
pytest tests/unit -v -m "not slow"

# Specific component
pytest tests/unit/test_preprocessor.py -v

# With coverage
pytest tests/unit -v --cov=src --cov-report=term-missing

# Stop on first failure
pytest tests/unit -v -x
```

### Integration Testing
```bash
# All integration tests
pytest tests/integration -v

# Without slow tests
pytest tests/integration -v -m "not slow"

# With coverage
pytest tests/integration -v --cov=src
```

### Full Test Suite
```bash
# All tests with coverage
pytest tests/ -v --cov=src --cov-report=html

# Generate HTML coverage report
pytest tests/ --cov=src --cov-report=html
open htmlcov/index.html

# Run E2E tests only
pytest tests/e2e -v
```

### CI/CD Simulation
```bash
# Stage 1: Fast unit tests (< 1 min)
pytest tests/unit -m "not slow" -v

# Stage 2: Full unit + integration (< 5 min)
pytest tests/unit tests/integration -v

# Stage 3: E2E tests (< 10 min)
pytest tests/e2e -v
```

---

## üìö Best Practices References

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ —Å–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏–∑ [Testing Vision](testing_vision.md):

- **[¬ß 1.2 Testing Principles](testing_vision.md#12-testing-principles)** - FIRST –ø—Ä–∏–Ω—Ü–∏–ø—ã, AAA pattern
- **[¬ß 1.3 Test Isolation](testing_vision.md#13-test-isolation)** - –ø—Ä–∞–≤–∏–ª–∞ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
- **[¬ß 7.1 DOs](testing_vision.md#71-dos-do-this)** - —á—Ç–æ –¥–µ–ª–∞—Ç—å
- **[¬ß 7.2 DON'Ts](testing_vision.md#72-donts-dont-do-this)** - —á–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å
- **[¬ß 7.3 Code Review Checklist](testing_vision.md#73-code-review-checklist)** - —á–µ–∫–ª–∏—Å—Ç –¥–ª—è review

---

## üéØ Quality Metrics Tracking

**Target Metrics** ([Testing Vision ¬ß 9.3](testing_vision.md#93-target-quality-metrics)):

| Metric | Target | Current | Status |
|--------|--------|---------|--------|
| **Code Coverage** | 75%+ | 0% | ‚è∏Ô∏è Not started |
| **Unit Test Pass Rate** | 100% | - | ‚è∏Ô∏è Not started |
| **Integration Test Pass Rate** | 95%+ | - | ‚è∏Ô∏è Not started |
| **E2E Test Pass Rate** | 90%+ | - | ‚è∏Ô∏è Not started |
| **Unit Test Execution Time** | < 2 min | - | ‚è∏Ô∏è Not started |
| **Full Test Suite Time** | < 10 min | - | ‚è∏Ô∏è Not started |
| **Test Flakiness Rate** | < 1% | - | ‚è∏Ô∏è Not started |

---

## üìù Notes

- –í—Å–µ unit —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±—ã—Å—Ç—Ä–æ (< 100ms –∫–∞–∂–¥—ã–π)
- PaddleOCR –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ unit —Ç–µ—Å—Ç–∞—Ö –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- Integration —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–π PaddleOCR (CPU mode)
- E2E —Ç–µ—Å—Ç—ã —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –¢–µ—Å—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `images/test_images/`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ fixtures –∏–∑ `tests/conftest.py` –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- –°–ª–µ–¥—É–π—Ç–µ AAA pattern (Arrange-Act-Assert) –≤–æ –≤—Å–µ—Ö —Ç–µ—Å—Ç–∞—Ö
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–π—Ç–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ `@pytest.mark.parametrize` –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä–∫–µ—Ä—ã: `@pytest.mark.unit`, `@pytest.mark.integration`, `@pytest.mark.e2e`, `@pytest.mark.slow`

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-26*
*–í–µ—Ä—Å–∏—è: 1.0*

